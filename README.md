<h1>Приложение для управления отделами, сотрудниками и задачами
Данное приложение - учебный проект.</h1>

<p>Это приложение предоставляет RESTful API для управления отделами, сотрудниками и задачами. 
Оно разработано с использованием Java, Servlets, JDBC, Mapstruct, Jackson и HikariCP
и взаимодействует с базой данных (PostgreSQL) для выполнения CRUD операций.</p>
<hr>
<h2>Структура проекта</h2>
<p>Проект организован следующим образом:</p>

* src/main/java/: Основной пакет приложения.
* config/: Конфигурационные классы.
* dao/: Интерфейс DAO (Data Access Object) и реализации для работы с базой данных.
* dto/: Data Transfer Objects (DTO) для передачи данных между слоями приложения.
* models/: Сущности, представляющие таблицы в базе данных.
* mappers/: Интерфейсы мапперов для преобразования между сущностями и DTO.
* services/: Интерфейс и реализации сервисов для бизнес-логики.
* servlets/: Сервлеты для обработки HTTP запросов.
<hr>
<h2>Отделы:</h2>
* GET /departments GET /departments - Получить все отделы.
* 
* GET /departments/{id} - Получить отдел по ID.
* 
* POST /departments - Создать новый отдел.
* 
* PUT /departments/{id} - Обновить отдел по ID.
* 
* DELETE /departments/{id} - Удалить отдел по ID.

<h2>Сотрудники:</h2>
* GET /users - Получить всех сотрудников.
* 
* GET /users/{id} - Получить сотрудника по ID.
* 
* POST /users - Создать нового сотрудника.
* 
* PUT /users/{id} - Обновить сотрудника по ID.
* 
* DELETE /users/{id} - Удалить сотрудника по ID.

<h2>Задачи:</h2>
* GET /tasks - Получить все задачи.
* 
* GET /tasks/{id} - Получить задачу по ID.
* 
* POST /tasks - Создать новую задачу.
* 
* PUT /tasks/{id} - Обновить задачу по ID.
* 
* DELETE /tasks/{id} - Удалить задачу по ID.

<h2>Инфа для себя:</h2>
Рассмотрим каждую из этих концепций по отдельности:

### 1. DTO (Data Transfer Object)
DTO - это объект, который используется для передачи данных между процессами. Он обычно используется в распределенных системах, где необходима передача данных между сервером и клиентом, либо между различными слоями приложения.

Основные характеристики DTO:
- **Упрощение передачи данных**: DTO содержит только необходимые поля, чтобы передать информацию из одного слоя в другой.
- **Отсутствие бизнес-логики**: DTO не должны содержать бизнес-логики, они просто представляют собой базовые структуры данных.
- **Сериализация**: DTO часто используются для сериализации и десериализации данных, например, в формате JSON или XML, что позволяет легко обмениваться данными между приложениями разные технологии.

### 2. DAO (Data Access Object)
DAO - это паттерн проектирования, который используется для абстракции доступа к данным. Он обеспечивает интерфейс для взаимодействия с источниками данных (например, базами данных) и скрывает детали реализации.

Основные характеристики DAO:
- **Инкапсуляция доступа к данным**: DAO предоставляет методы для CRUD-операций (создание, чтение, обновление, удаление) и инкапсулирует конкретную реализацию работы с источником данных.
- **Гибкость**: Использование DAO позволяет легко менять реализацию доступа к данным (например, перейти с MySQL на PostgreSQL) без изменения бизнес-логики приложения.
- **Тестируемость**: С помощью DAO можно легко мокировать доступ к данным, что облегчает тестирование.

### 3. Service
Слой Service представляет собой уровень абстракции, который находится между контроллером (или представлением) и DAO. Он содержит бизнес-логику приложения.

Основные характеристики слоя Service:
- **Инкапсуляция бизнес-логики**: Здесь реализуются правила и логика, которые определяют, как данные должны обрабатываться.
- **Сложные операции**: Сервис может обрабатывать сложные операции, которые требуют взаимодействия с несколькими DAO.
- **Тестируемость и повторное использование**: Слою Service легче писать тесты, и его можно повторно использовать в других частях приложения.

### 4. Entity
Entity (сущность) — это объект, который представляет собой базовую единицу данных в приложении, чаще всего отражая таблицы в базе данных.

Основные характеристики сущности:
- **Идентификация**: Сущности имеют уникальный идентификатор (обычно это первичный ключ в базе данных), который позволяет их отличать друг от друга.
- **Состояние**: Сущности могут иметь сложные состояния и связи с другими сущностями.
- **Объектно-ориентированное представление**: Сущности часто моделируются как классы в объектно-ориентированных языках программирования и могут содержать методы для манипулирования своим состоянием.

### 5. Servlet
Servlet - это Java-класс, который обрабатывает запросы и генерирует ответы для веб-приложений. Он работает на сервере приложений и обычно используется для создания динамического контента.

Основные характеристики сервлетов:
- **Обработка HTTP-запросов**: Сервлеты могут обрабатывать различные типы HTTP-запросов (GET, POST, PUT и т.д.) и предоставлять соответствующие ответы.
- **Жизненный цикл**: Сервлеты имеют определенный жизненный цикл, включая инициализацию, обработку запросов и уничтожение.
- **Интеграция с Java EE**: Сервлеты часто используются в рамках спецификации Java EE и могут легко интегрироваться с другими компонентами, такими как JSP, EJB и т.д.

### Заключение
Эти концепции часто используются вместе в архитектуре приложений, чтобы обеспечить четкую структуру, изоляцию и тестируемость компонентов. Например, при создании веб-приложения на Java можно использовать сервлеты для обработки запросов пользователя, слои DTO и DAO для работы с данными, и слой Service для реализации бизнес-логики. Надеюсь, это объяснение было полезным! Если у тебя есть вопросы или интерес к одной из тем, не стесняйся задавать!

<hr>
Давайте подробнее рассмотрим, как взаимодействуют DTO, DAO и слой Service в типичном веб-приложении, когда запрос поступает от клиента. Этот процесс можно разбить на несколько этапов, чтобы легче было понять, как все это работает вместе.

### 1. Поступление запроса от клиента
Когда клиент (например, браузер или мобильное приложение) отправляет запрос на сервер (например, через HTTP), этот запрос обычно обрабатывается контроллером (иногда это делается через сервлет).

### 2. Обработка запроса в контроллере
- **Контроллер**: он отвечает за прием запросов и формирование ответов. Контроллер извлекает данные из запроса (например, параметры, заголовки, тело запроса) и определяет, какой метод должен быть вызван на слое Service.
- **DTO**: контроллер может создавать объект DTO, чтобы упаковать данные, полученные из запроса, и передать его в метод сервиса. DTO помогают изолировать детали передачи данных и обеспечивают четкое определение структуры данных.

### 3. Вызов методов на слое Service
- **Service**: после получения DTO контроллер вызывает соответствующий метод на слое Service, передавая созданный DTO.
    - В сервисе происходит основная бизнес-логика: проверка целостности данных, применение бизнес-правил.
    - Если необходимо взаимодействовать с базой данных (например, создать нового пользователя или получить список продуктов), сервис вызывает методы DAO.

### 4. Взаимодействие с DAO
- **DAO**: слой сервиса передает запросы на доступ к данным DAO. DAO может использовать SQL запросы, ORM или другие подходы для взаимодействия с базой данных.
    - DAO выполняет необходимые операции с базой данных и возвращает результаты обратно в слой Service. Результаты могут быть тоже в виде DTO или собственных объектов.

### 5. Возврат результата в контроллер
- После получения результатов от DAO, слой Service обрабатывает данные (возможно, преобразует их в DTO) и возвращает результат контроллеру.
- Контроллер затем формирует ответ, возможно снова преобразовывает данные в DTO, и отправляет ответ обратно клиенту в нужном формате (например, JSON или XML).

### 6. Пример потока данных

1. **Запрос от клиента**: Клиент отправляет запрос на создание нового пользователя (например, POST-запрос с данными пользователя).

2. **Контроллер**:
    - Получает данные из запроса и создает объект DTO (например, `UserDTO`).
    - Вызывает метод сервиса, например: `userService.createUser(userDTO)`.

3. **Сервис**:
    - Получает `UserDTO`, возможно выполняет валидацию данных.
    - Вызывает метод DAO: `userDAO.insertUser(user)`.

4. **DAO**:
    - Выполняет SQL-запрос для вставки нового пользователя в базу данных.
    - Возвращает статус операции или созданный объект пользователю (например, `User`).

5. **Возврат в контроллер**:
    - Контроллер получает информацию от сервиса (например, созданный объект пользователя с его ID).
    - Формирует ответ (например, JSON) и отправляет его обратно клиенту.

### Заключение
Таким образом, мы видим, что взаимодействие между контроллером, сервисом и DAO происходит через передачу данных, инкапсулированных в объектах DTO. Это позволяет сохранять четкое разделение ответственности и упрощает поддержку и тестирование приложения. Каждый слой отвечает за свои задачи, обеспечивая при этом гибкость и возможность изменения без влияния на остальные слои.